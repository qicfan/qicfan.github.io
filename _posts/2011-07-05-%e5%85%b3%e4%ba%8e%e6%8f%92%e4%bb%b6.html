---
layout: post
title: 关于插件
tags:
- php
- 技术杂谈
- 插件
status: publish
type: post
published: true
meta:
  _edit_last: '1'
  views: '75'
---
最近在重新看前面写的代码，看哪些地方需要重构或者删除或者添加的，然后就看到插件这个地方。现在的插件机制基本只能实现对数据的二次处理比如：修改后入库、过滤垃圾、发送邮件等等；如果我需要对即将展示到网页上的数据进行修改然后再输出那么现在的插件机制就没办法做到了，看来还得再增加一个具有返回值的方法；现在问题出现了如果同一个钩子注册的函数具有返回值，那如果注册了多个相同的函数，返回值怎么办？。。。。。经过思考，我觉得可以按照注册函数的优先级，层层处理，将第一个函数处理过的返回值传入第二个函数，以此类推最后返回最后一个函数处理过的返回值，暂时这么构思，等写完在验证一下。。
